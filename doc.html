<!DOCTYPE html><html><head><style>body { background:#333; color:#0F0; font-family:Arial,Verdana;} a { color:#0AA } h1 { color:#FF0; } h2 { color:#0FF } table,tr,td { color: #CCC; padding:4px;border:1px solid white; border-collapse:collapse; }</style></head><body>
<a name="BitmapFont"></a>
<hr><h1>BitmapFont</h1>
<p><h3>Extends Base</h3></p>
<p>This class encapsulates a bitmap font, producing characters 'on demand'. (Note, no longer requires a .lua file)</p>
<p>Methods : <a href="#BitmapFont_(constructor)"/>(constructor)</a>,<a href="#BitmapFont_getCharacter"/>getCharacter</a>,<a href="#BitmapFont_getCharacterHeight"/>getCharacterHeight</a>,<a href="#BitmapFont_getCharacterWidth"/>getCharacterWidth</a>,<a href="#BitmapFont_mapCharacterToFont"/>mapCharacterToFont</a></p><hr><a name="BitmapFont_(constructor)"></a>
<h2>(constructor)(fontName)</h2>
<table>
<tr><td>fontName</td><td>string</td><td>name of font (case is sensitive, so I advise use of lower case only)</td></tr>
</table>
<p>The Bitmap Font constructor. This reads in the font data</p>
<a name="BitmapFont_calculateFontHeight"></a>
<a name="BitmapFont_getCharacter"></a>
<h2>getCharacter(characterCode)</h2>
<table>
<tr><td>characterCode</td><td>number</td><td>character code of the character required</td></tr>
<tr><td>return</td><td>displayObject</td><td>a display object representing the character.</td></tr>
</table>
<p>Get a display object with the given character in it, centred around the middle - roughly :)</p>
<a name="BitmapFont_getCharacterHeight"></a>
<h2>getCharacterHeight(characterCode,fontSize,yScale)</h2>
<table>
<tr><td>characterCode</td><td>number</td><td>Character code of character to measure. Not actually needed as all characters are a fixed height</td></tr>
<tr><td>fontSize</td><td>number</td><td>Size of the font (horizontal pixels)</td></tr>
<tr><td>yScale</td><td></td><td></td></tr>
<tr><td>return</td><td>number</td><td>Vertical width in pixels.</td></tr>
</table>
<p>Get the character height, after scaling.</p>
<a name="BitmapFont_getCharacterWidth"></a>
<h2>getCharacterWidth(characterCode,fontSize,xScale)</h2>
<table>
<tr><td>characterCode</td><td>number</td><td>Character code of character to measure</td></tr>
<tr><td>fontSize</td><td>number</td><td>Size of the font (horizontal pixels)</td></tr>
<tr><td>xScale</td><td>number</td><td>Horizontal Scaling</td></tr>
<tr><td>return</td><td>number</td><td>Horizontal width in pixels.</td></tr>
</table>
<p>Get the character width, after scaling.</p>
<a name="BitmapFont_loadFont"></a>
<a name="BitmapFont_mapCharacterToFont"></a>
<h2>mapCharacterToFont(characterCode)</h2>
<table>
<tr><td>characterCode</td><td>number</td><td>Character code to map</td></tr>
<tr><td>return</td><td>number</td><td>Code of character which does actually exist in the font.</td></tr>
</table>
<p>Map any character to a code - currently maps any unsupported character to ? but could be extended to (say) map a-acute and a-grave to a in French.</p>
<a name="BitmapFont_moveScaleCharacter"></a>
<a name="BitmapString"></a>
<hr><h1>BitmapString</h1>
<p><h3>Extends Base</h3></p>
<p>It uses a view group object for basic positioning. Scaling and rotating, it depends. If you create a string, you can scale it and rotate it with transitions, just as you do with any object. But if you want a string with animated effects, you cannot use transitions as well. The reason for this is if you 'animate' xScale,yScale with transition.to its scaling effects on the object will be reset by the animation - basically they argue about who does the scaling. The xOffset,yOffset is additional to the actual position, rotation probably won't work either (not sure ?)</p>
<p>Methods : <a href="#BitmapString_(constructor)"/>(constructor)</a>,<a href="#BitmapString_addEventListener"/>addEventListener</a>,<a href="#BitmapString_animate"/>animate</a>,<a href="#BitmapString_evaluateTint"/>evaluateTint</a>,<a href="#BitmapString_getView"/>getView</a>,<a href="#BitmapString_moveTo"/>moveTo</a>,<a href="#BitmapString_remove"/>remove</a>,<a href="#BitmapString_removeEventListener"/>removeEventListener</a>,<a href="#BitmapString_removeSelf"/>removeSelf</a>,<a href="#BitmapString_setAnchor"/>setAnchor</a>,<a href="#BitmapString_setDirection"/>setDirection</a>,<a href="#BitmapString_setFont"/>setFont</a>,<a href="#BitmapString_setFontSize"/>setFontSize</a>,<a href="#BitmapString_setModifier"/>setModifier</a>,<a href="#BitmapString_setScale"/>setScale</a>,<a href="#BitmapString_setSpacing"/>setSpacing</a>,<a href="#BitmapString_setText"/>setText</a>,<a href="#BitmapString_setTintColor"/>setTintColor</a>,<a href="#BitmapString_setVerticalSpacing"/>setVerticalSpacing</a></p><hr><a name="BitmapString_(constructor)"></a>
<h2>(constructor)(font,fontSize)</h2>
<table>
<tr><td>font</td><td>String/Reference</td><td>Font to use to create string</td></tr>
<tr><td>fontSize</td><td>number</td><td>Height of font in pixels, default is 32 if ommitted.</td></tr>
</table>
<p>Constructor. Font can be a reference or a string (in this case the FontManager looks it up), font Size defaults to 32 pixels. Creates an empty Bitmap String.</p>
<a name="BitmapString__destroy"></a>
<a name="BitmapString__useOrCreateCharacterObject"></a>
<a name="BitmapString_addEventListener"></a>
<h2>addEventListener(eventName,handler)</h2>
<table>
<tr><td>eventName</td><td>string</td><td>name of event e.g. tap, touch</td></tr>
<tr><td>handler</td><td>table</td><td>event listener</td></tr>
</table>
<p>Add an event listener to the view. This is removed automatically on clear.</p>
<a name="BitmapString_animate"></a>
<h2>animate(speedScalar)</h2>
<table>
<tr><td>speedScalar</td><td>number</td><td>Speed Scalar, defaults to 1. 3 is three times as fast.</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Turns animation on, with an optional speed scalar. This causes the 'cPos' in modifiers to change with time allowing the various animation effects</p>
<a name="BitmapString_evaluateTint"></a>
<h2>evaluateTint(descr)</h2>
<table>
<tr><td>descr</td><td>string</td><td>description - can be text, n,n,n or ""</td></tr>
<tr><td>return</td><td>table</td><td>tint table containing red,green,blue members or nil.</td></tr>
</table>
<p>Convert a textual colour definition to a tint array</p>
<a name="BitmapString_extractCharacterUTF8"></a>
<a name="BitmapString_extractCharacterUnicode"></a>
<a name="BitmapString_getView"></a>
<h2>getView()</h2>
<table>
<tr><td>return</td><td>display Group</td><td>the strings display group</td></tr>
</table>
<p>Return the view group if you want to animate it using transition.to</p>
<a name="BitmapString_isAnimated"></a>
<a name="BitmapString_isInvalid"></a>
<a name="BitmapString_moveTo"></a>
<h2>moveTo(x,y)</h2>
<table>
<tr><td>x</td><td>number</td><td>Horizontal position</td></tr>
<tr><td>y</td><td>number</td><td>Vertictal position</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Move the view group - i.e. the font</p>
<a name="BitmapString_paintandFormatLine"></a>
<a name="BitmapString_postProcessAnchorFix"></a>
<a name="BitmapString_reformat"></a>
<a name="BitmapString_remove"></a>
<h2>remove()</h2>
<p>Remove the current string from the screen and remove the reference from the list.</p>
<a name="BitmapString_removeEventListener"></a>
<h2>removeEventListener(eventName)</h2>
<table>
<tr><td>eventName</td><td>string</td><td>name of event e.g. tap</td></tr>
</table>
<p>Remove an event listener.</p>
<a name="BitmapString_removeSelf"></a>
<h2>removeSelf()</h2>
<p>RemoveSelf does the same thing</p>
<a name="BitmapString_repositionAndScale"></a>
<a name="BitmapString_setAnchor"></a>
<h2>setAnchor(anchorX,anchorY)</h2>
<table>
<tr><td>anchorX</td><td>number</td><td>X anchor position 0->1</td></tr>
<tr><td>anchorY</td><td>number</td><td>Y anchor position 0->1</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Set the anchor position - same as Corona except it is done with a method not by assigning member variables.</p>
<a name="BitmapString_setDirection"></a>
<h2>setDirection(direction)</h2>
<table>
<tr><td>direction</td><td>number</td><td>string direction (degrees) 0 (default), 90, 180 or 360.</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Set the direction - we only support 4 main compass points, and the font is always upright.</p>
<a name="BitmapString_setFont"></a>
<h2>setFont(font,fontSize)</h2>
<table>
<tr><td>font</td><td>String/Reference</td><td>Font to use to create string</td></tr>
<tr><td>fontSize</td><td>number</td><td>Height of font in pixels, default is current size if ommitted.</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Change the font used, optionally change its size (there is another helper to just change the size). This involves freeing and reallocating the whole font objects - if you just want to change the base size, use that helper.</p>
<a name="BitmapString_setFontSize"></a>
<h2>setFontSize(size)</h2>
<table>
<tr><td>size</td><td>number</td><td>new font size (vertical pixel height), default is no change</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Set the Font Size</p>
<a name="BitmapString_setModifier"></a>
<h2>setModifier(funcOrTable)</h2>
<table>
<tr><td>funcOrTable</td><td>String/Class/Function</td><td>a function, class or string defining how you want the bitmap font to be modified.</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Set the modifier (class, function or string) which shapes and optionally animates the string. For examples, see the main.lua file and the sample modifiers.</p>
<a name="BitmapString_setScale"></a>
<h2>setScale(xScale,yScale)</h2>
<table>
<tr><td>xScale</td><td>number</td><td>Horizontal scaling of string</td></tr>
<tr><td>yScale</td><td>number</td><td>Vertical scaling of string</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Set the overall scale of the font (e.g. pre-modifier)</p>
<a name="BitmapString_setSpacing"></a>
<h2>setSpacing(spacing)</h2>
<table>
<tr><td>spacing</td><td>number</td><td>Pixels to insert between letters (or remove, can be negative) - scaled by x Scaling.</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Allows you to adjust the spacing between letters.</p>
<a name="BitmapString_setText"></a>
<h2>setText(text)</h2>
<table>
<tr><td>text</td><td>string</td><td>text string to set it to.</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Set the text. It uses the current text as a basis for display objects for the font, reusing them when possible, then frees any that are left over If there isn't a character to reuse, it creates one.</p>
<a name="BitmapString_setTintColor"></a>
<h2>setTintColor(r,g,b)</h2>
<table>
<tr><td>r</td><td>number</td><td>Red component 0-1</td></tr>
<tr><td>g</td><td>number</td><td>Green component 0-1</td></tr>
<tr><td>b</td><td>number</td><td>Blue component 0-1</td></tr>
<tr><td>return</td><td>BitmapString</td><td>self</td></tr>
</table>
<p>Apply an overall tint to the string. This can be overridden or modified using the tint table of the modifier which itself has three fields - red, green and blue</p>
<a name="BitmapString_setVerticalSpacing"></a>
<h2>setVerticalSpacing(spacing)</h2>
<table>
<tr><td>spacing</td><td>number</td><td>Pixels to insert between letters (or remove, can be negative) - scaled by y Scaling.</td></tr>
<tr><td>return</td><td>BitmapString</td><td>allows chaining.</td></tr>
</table>
<p>Allows you to adjust the spacing between letters vertically</p>
<a name="FontManager"></a>
<hr><h1>FontManager</h1>
<p><h3>Extends Base</h3></p>
<p>The fontmananger class controls, animates and updates all the fonts on the screen. It also tracks what fonts are used, and keeps a library of standard effects. It is a singleton.</p>
<p>Methods : <a href="#FontManager_(constructor)"/>(constructor)</a>,<a href="#FontManager_clearText"/>clearText</a>,<a href="#FontManager_curve"/>curve</a>,<a href="#FontManager_getFont"/>getFont</a>,<a href="#FontManager_getModifier"/>getModifier</a>,<a href="#FontManager_setAnimationRate"/>setAnimationRate</a>,<a href="#FontManager_setEncoding"/>setEncoding</a>,<a href="#FontManager_setTintBrackets"/>setTintBrackets</a></p><hr><a name="FontManager_(constructor)"></a>
<h2>(constructor)()</h2>
<p>Constructor - note this is the prototype and the instance.</p>
<a name="FontManager__startEnterFrame"></a>
<a name="FontManager__stopEnterFrame"></a>
<a name="FontManager_addStringReference"></a>
<a name="FontManager_clearText"></a>
<h2>clearText()</h2>
<p>Erase all text - clear screen effectively. All new text strings are registered with the font mananger.</p>
<a name="FontManager_curve"></a>
<h2>curve(curveDefinition,position)</h2>
<table>
<tr><td>curveDefinition</td><td>Modifier Descriptor</td><td>Table containing startAngle,endAngle,curveCount,formula</td></tr>
<tr><td>position</td><td>number</td><td>Position in curve 0 to 100</td></tr>
<tr><td>return</td><td>number</td><td>Value of curve (normally between 0 and 1)</td></tr>
</table>
<p>Helper function which calculates curves according to the definition - basically can take a segment of a trigonometrical curve and apply it to whatever you want, it can be repeated over a range, so you could say apply the sin curve from 0-180 5 times and get 5 'humps'</p>
<a name="FontManager_enterFrame"></a>
<a name="FontManager_getFont"></a>
<h2>getFont(fontName)</h2>
<table>
<tr><td>fontName</td><td>string</td><td>Name of font to acquire</td></tr>
<tr><td>return</td><td>BitmapFont</td><td>Font from cache,or loaded</td></tr>
</table>
<p>Get font by name, creating it if required.</p>
<a name="FontManager_getModifier"></a>
<h2>getModifier(name)</h2>
<table>
<tr><td>name</td><td>string</td><td>Name of modifier you want to access</td></tr>
<tr><td>return</td><td>Modifier</td><td>Modifier that does what you want.</td></tr>
</table>
<p>Access one of the standard modifiers</p>
<a name="FontManager_registerModifier"></a>
<a name="FontManager_removeStringReference"></a>
<a name="FontManager_setAnimationRate"></a>
<h2>setAnimationRate(frequency)</h2>
<table>
<tr><td>frequency</td><td>number</td><td>updates per second of the animation rate, defaults to 15 updates per second.</td></tr>
</table>
<p>Set the animation rate - how many updates are a done a second. If this is > fps it will be fps.</p>
<a name="FontManager_setEncoding"></a>
<h2>setEncoding(enc)</h2>
<table>
<tr><td>enc</td><td>string</td><td>encoding, either (currently) unicode (default), utf8 or utf-8</td></tr>
<tr><td>return</td><td>FontManager</td><td>chaining</td></tr>
</table>
<p>Set the string encoding used to convert strings to bitmap sequences</p>
<a name="FontManager_setTintBrackets"></a>
<h2>setTintBrackets(cStart,cEnd)</h2>
<table>
<tr><td>cStart</td><td>string</td><td>start character</td></tr>
<tr><td>cEnd</td><td>string</td><td>end character.</td></tr>
</table>
<p>Set the bounding characters for tint definitions (defaults to { and })</p>
<a name="JaggedModifier"></a>
<hr><h1>JaggedModifier</h1>
<p><h3>Extends Modifier</h3></p>
<p>Modifier which turns alternate characters 15 degrees in different directions</p>
<p>Methods : </p><hr><a name="JaggedModifier_modify"></a>
<a name="Modifier"></a>
<hr><h1>Modifier</h1>
<p><h3>Extends Base</h3></p>
<p>Modifiers can be functions, classes or text references to system modifiers. The modifier takes five parameters <br><ul> <li>modifier structure to modify - has xOffset, yOffset, xScale, yScale and rotation members (0,0,1,1,0) which it can tweak. Called for each character of the string. You can see all of them in Wobble, or just rotation in Jagged.</li> <li>cPos the character position, from 0-100 - how far along the string this is. This does not correlate to string character position, as this is changed to animate the display. </li> <li>info table containing information for the modifier : elapsed - elapsed time in ms, index - position in this line, length - length of this linem lineCount, lineIndex - line number of this character, lineCount - total number of lines </li></ul></p>
<p>Methods : </p><hr><a name="SimpleCurveModifier"></a>
<hr><h1>SimpleCurveModifier</h1>
<p><h3>Extends Modifier</h3></p>
<p>Modifier which changes the vertical position on a curve</p>
<p>Methods : <a href="#SimpleCurveModifier_(constructor)"/>(constructor)</a></p><hr><a name="SimpleCurveModifier_(constructor)"></a>
<h2>(constructor)(start,enda,scale,count)</h2>
<table>
<tr><td>start</td><td>number</td><td>start angle of cuve</td></tr>
<tr><td>enda</td><td>number</td><td>end angle of curve</td></tr>
<tr><td>scale</td><td>number</td><td>degree to which it affects the bitmapstring</td></tr>
<tr><td>count</td><td>number</td><td>number of segments to map onto the text</td></tr>
</table>
<p>Initialise the curve modifier</p>
<a name="SimpleCurveModifier_modify"></a>
<a name="SimpleCurveScaleModifier"></a>
<hr><h1>SimpleCurveScaleModifier</h1>
<p><h3>Extends SimpleCurveModifier</h3></p>
<p>Modifier which changes the vertical scale on a curve</p>
<p>Methods : <a href="#SimpleCurveModifier_(constructor)"/><i>(constructor)</i></a></p><hr><a name="SimpleCurveScaleModifier_modify"></a>
<a name="SimpleInverseCurveModifier"></a>
<hr><h1>SimpleInverseCurveModifier</h1>
<p><h3>Extends SimpleCurveModifier</h3></p>
<p>Extend simple Curve scale Modifier so it is inverted.</p>
<p>Methods : <a href="#SimpleCurveModifier_(constructor)"/><i>(constructor)</i></a></p><hr><a name="SimpleInverseCurveModifier_modify"></a>
<a name="SimpleInverseCurveScaleModifier"></a>
<hr><h1>SimpleInverseCurveScaleModifier</h1>
<p><h3>Extends SimpleCurveScaleModifier</h3></p>
<p>Scale but shaped the other way.</p>
<p>Methods : <a href="#SimpleCurveModifier_(constructor)"/><i>(constructor)</i></a></p><hr><a name="SimpleInverseCurveScaleModifier_modify"></a>
<a name="WobbleModifier"></a>
<hr><h1>WobbleModifier</h1>
<p><h3>Extends Modifier</h3></p>
<p>Class which wobbles the characters randomly</p>
<p>Methods : <a href="#WobbleModifier_(constructor)"/>(constructor)</a></p><hr><a name="WobbleModifier_(constructor)"></a>
<h2>(constructor)(violence)</h2>
<table>
<tr><td>violence</td><td>number</td><td>degree of wobbliness, defaults to 1.</td></tr>
</table>
<p>Constructor, sets the violence of the wobble.</p>
<a name="WobbleModifier_modify"></a>
<a name="ZoomInModifier"></a>
<hr><h1>ZoomInModifier</h1>
<p><h3>Extends ZoomOutModifier</h3></p>
<p>Modifier which zooms characters from 1->0 but the base positions don't change.</p>
<p>Methods : <a href="#ZoomOutModifier_(constructor)"/><i>(constructor)</i></a></p><hr><a name="ZoomInModifier_modify"></a>
<a name="ZoomOutModifier"></a>
<hr><h1>ZoomOutModifier</h1>
<p><h3>Extends Modifier</h3></p>
<p>Modifier which zooms characters from 0->1 but the base positions don't change.</p>
<p>Methods : <a href="#ZoomOutModifier_(constructor)"/>(constructor)</a></p><hr><a name="ZoomOutModifier_(constructor)"></a>
<h2>(constructor)(zoomTime)</h2>
<table>
<tr><td>zoomTime</td><td>number</td><td>how long the zoom takes, defaults to three seconds.</td></tr>
</table>
<p>Initialise the zoom</p>
<a name="ZoomOutModifier_modify"></a>
<hr><p><i>LUA Autodoc by Paul Robson 2014</i></p><hr></body></html>
